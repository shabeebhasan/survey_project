<div class="row" role="main">
    <h4 class="jumbotron-heading">Type anything that you think of when seeing this
        picture. Press enter to add more tags. Also, unlock and earn virtual items by
        adding 10 tags.</h4>
    <mdb-card class="col-md-8">

        <mdb-card-header class="info-color white-text text-center py-12">
            <h5>
                <strong>Image Questionnaire
                    {{arrayIndex}}
                    of 10</strong>
            </h5>
        </mdb-card-header>

        <mdb-card-body class="col-md-12" style="text-align:center">

            <img
                [src]="imgSrc"
                style="max-width:600px;margin:20px;width: 100%;max-height:400px;"
                class="img-fluid"
                alt="Responsive image">

                <tag-input (onAdd)="onItemAdded($event)" [(ngModel)]='items' theme='bootstrap'></tag-input>

                <button
                    mdbBtn
                    (click)="onSubmit()"
                    color="info"
                    outline="true"
                    rounded="true"
                    block="true"
                    class="z-depth-0 my-4 waves-effect"
                    mdbWavesEffect
                    type="submit"
                    [disabled]="disabledSubmitButton">NEXT</button>

            </mdb-card-body>

        </mdb-card>
        <mdb-card class="col-md-4">

            <div style="text-align: center;padding: 10px;" class="col-md-12">
                <h5 style="border: 5px solid cornflowerblue;padding: 5px;">
                    <strong>Tag Counter:
                        {{tagCount}}</strong>
                </h5>
              <div style="width: 220px;height: 220px;margin: auto;border: 5px solid cornflowerblue;">  
              <img
                    [ngStyle]="{'opacity': opacity}"
                    class="img-fluid"
                    width="200px"
                    height="200px"
                    [src]="virtualSrc">
                  </div>
                  <div class="progress md-progress" style="margin:20px;height: 20px">
                      <div class="progress-bar" role="progressbar" [ngStyle]="{'width':tagPercentage,'height':'20px'}" aria-valuenow="tagPercentage" aria-valuemin="0" aria-valuemax="100">{{tagPercentage}}</div>
                  </div>
            </div>
            
            </mdb-card>
        </div>
        <div
            mdbModal
            #modal="mdbModal"
            class="modal fade"
            tabindex="-1"
            role="dialog"
            aria-labelledby="myBasicModalLabel"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button
                            type="button"
                            class="close pull-right"
                            aria-label="Close"
                            (click)="modal.hide()">
                            <span aria-hidden="true">Ã—</span>
                        </button>
                        <h4 class="modal-title w-100" id="myModalLabel">Virtual Item</h4>
                    </div>
                    <div style="text-align:center" class="modal-body">
                        <h4 style="text-align:center">Congrats, you've earned a virtual item</h4>
                        <img style="text-align:center" width="200px" [src]="virtualSrc"></div>
                        <div class="modal-footer">
                            <button
                                type="button"
                                mdbBtn
                                color="secondary"
                                class="waves-light"
                                aria-label="Close"
                                (click)="modal.hide()"
                                mdbWavesEffect>Close</button>
                        </div>
                    </div>
                </div>
            </div>